import React, { useState } from "react";
import { Button } from "@/components/ui/button";

const timelineData = [
  {
    year: "2017 (Aug)",
    event: "Charlottesville rally prompts national debate on free speech and hate groups."
  },
  {
    year: "2017 (Sept)",
    event: "Richard Spencer requests to speak at UF; initial denial leads to legal scrutiny."
  },
  {
    year: "2017 (Oct)",
    event: "UF approves event to avoid First Amendment lawsuit, invests ~$500K in security."
  },
  {
    year: "2017+",
    event: "UF organizes counter-programming: teach-ins, healing spaces, curricular responses."
  }
];

const frameData = {
  Structural: [
    "Review of speaker approval protocols and decision authority.",
    "Security and legal cost burden: over $500,000 spent.",
    "Mission alignment: does this support or undermine DEI goals?"
  ],
  Human: [
    "Heightened trauma risk for marginalized students and staff.",
    "Counseling center strain and need for healing spaces.",
    "Calls for trust rebuilding between leadership and campus groups."
  ],
  Political: [
    "Tension between state politics (e.g., Governor's emergency order) and institutional autonomy.",
    "Student, faculty, and donor coalitions take opposing stances.",
    "Media spotlight and reputational implications."
  ],
  Symbolic: [
    "Contradiction between UF's values and the symbolism of platforming hate speech.",
    "Campus rituals and DEI messaging clash with event optics.",
    "Narrative of leadership: defender of rights or enabler of harm?"
  ]
};

const perspectives = {
  Student: "As a student of color, this decision feels threatening and alienating. I want my safety prioritized over free speech absolutism.",
  Administrator: "We had to weigh legal exposure and constitutional rights. Our mission to educate compels us to model engagement—even when uncomfortable.",
  Faculty: "We must teach students to engage critically, not hide them from ugly realities. But we also need institutional support for inclusive teaching.",
  Community: "As a local business owner and parent, I’m concerned about both violence and reputation. UF should stand against hate—but safely."
};

export default function HandoutInteractive() {
  const [selectedFrame, setSelectedFrame] = useState("Structural");
  const [selectedPerspective, setSelectedPerspective] = useState("Student");

  const downloadPDF = () => {
    window.print();
  };

  return (
    <div className="max-w-4xl mx-auto px-4 py-10 space-y-10 text-slate-800">
      <h1 className="text-2xl font-bold mb-4">Team Case Study: Free Speech and White Nationalism at UF</h1>

      {/* Timeline */}
      <section className="space-y-4">
        <h2 className="text-xl font-semibold">Timeline of Events</h2>
        <ul className="space-y-2">
          {timelineData.map((item, i) => (
            <li key={i} className="border-l-4 border-slate-400 pl-4">
              <span className="font-bold">{item.year}:</span> {item.event}
            </li>
          ))}
        </ul>
      </section>

      {/* Frame Explorer */}
      <section>
        <h2 className="text-xl font-semibold mb-2">Frame Explorer Tool</h2>
        <div className="flex gap-2 mb-3">
          {Object.keys(frameData).map((frame) => (
            <Button key={frame} onClick={() => setSelectedFrame(frame)} variant={selectedFrame === frame ? "default" : "outline"}>
              {frame}
            </Button>
          ))}
        </div>
        <ul className="list-disc pl-5 text-slate-700">
          {frameData[selectedFrame].map((point, i) => (
            <li key={i}>{point}</li>
          ))}
        </ul>
      </section>

      {/* Perspective Switcher */}
      <section>
        <h2 className="text-xl font-semibold mb-2">Perspective Switcher</h2>
        <div className="flex flex-wrap gap-2 mb-3">
          {Object.keys(perspectives).map((key) => (
            <Button key={key} onClick={() => setSelectedPerspective(key)} variant={selectedPerspective === key ? "default" : "outline"}>
              {key}
            </Button>
          ))}
        </div>
        <p className="bg-slate-100 p-4 rounded-xl border border-slate-300 italic">{perspectives[selectedPerspective]}</p>
      </section>

      {/* Resolution Summary */}
      <section>
        <h2 className="text-xl font-semibold mb-2">Proposed Resolution Summary</h2>
        <ul className="list-disc pl-5 space-y-1 text-slate-700">
          <li><strong>Legal Compliance:</strong> Allow the event to comply with First Amendment standards and reduce legal risk.</li>
          <li><strong>Educational Framing:</strong> Host teach-ins, integrate content into coursework, and build media literacy around hate speech.</li>
          <li><strong>Community Support:</strong> Provide healing spaces, expand counseling access, and protect student wellbeing through dialogue and care.</li>
        </ul>
      </section>

      <section>
        <Button onClick={downloadPDF} className="mt-6">Download PDF</Button>
      </section>
    </div>
  );
}
